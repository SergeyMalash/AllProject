{% extends 'basic.html' %}
{% load widget_tweaks %}

{% block title %}Профиль{% endblock %}

{% block content %}
<div class="box">
    <form method="post" class="mx-auto">{% csrf_token %}
        {% if form.errors.new_password2 %}
            <label for="id_new_password1">Пароль</label>
            {% render_field form.new_password1 class="form-control is-invalid" placeholder="Пароль" %}
            <label for="id_new_password2">Повторите пароль</label>
            {% render_field form.new_password2 class="form-control is-invalid" placeholder="Повторите пароль" %}
                {% for error in form.errors.new_password2 %}
                    <p class="invalid-feedback mb-2"> {{ error }}</p>
                {% endfor %}
            {{ form.non_field_errors }}
        {% else %}
            <label for="id_new_password1">Пароль</label>
            {% render_field form.new_password1 class="form-control" placeholder="Пароль" %}
            <label for="id_new_password2">Повторите пароль</label>
            {% render_field form.new_password2 class="form-control" placeholder="Повторите пароль" %}
            {{ form.errors.new_password2 }}
        {% endif %}
    <button type="submit" class="btn btn-primary mb-2 mt-2">Сохранить</button>
    </form>
</div>
{% endblock %}